<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Orign Potter" />










<meta name="description" content="Zsh 开发指南（一）：变量和语句导读网上关于 zsh 的文章有很多，但其中超过 95% 的文章讲如何使用和配置，写如何用 zsh 编程的文章很少，能找到的多数也是只言片语，不成系统。国外有几本讲 zsh 的书，其中也有很多内容是配置、使用、编写补全脚本等等，对编程有用的篇幅占比并不多，而且比较零散不便于查询。至于官方文档？那是让即使有多年编程经验的开发者也会抓狂的神奇存在。可读性极差，而且基本没">
<meta property="og:type" content="article">
<meta property="og:title" content="Orign Potter&#39;s 个人博客">
<meta property="og:url" content="https://bjpotter.github.io/post/zsh.html">
<meta property="og:site_name" content="Orign Potter&#39;s 个人博客">
<meta property="og:description" content="Zsh 开发指南（一）：变量和语句导读网上关于 zsh 的文章有很多，但其中超过 95% 的文章讲如何使用和配置，写如何用 zsh 编程的文章很少，能找到的多数也是只言片语，不成系统。国外有几本讲 zsh 的书，其中也有很多内容是配置、使用、编写补全脚本等等，对编程有用的篇幅占比并不多，而且比较零散不便于查询。至于官方文档？那是让即使有多年编程经验的开发者也会抓狂的神奇存在。可读性极差，而且基本没">
<meta property="og:locale">
<meta property="article:published_time" content="2024-09-07T09:28:23.549Z">
<meta property="article:modified_time" content="2024-09-07T09:28:23.549Z">
<meta property="article:author" content="Orign Potter">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://BJPotter.github.io/post/zsh.html"/>





  <title> | Orign Potter's 个人博客</title>
  








<meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Orign Potter's 个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home                          //首页"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive          //归档"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th           //分类"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags                     //标签"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user                   //关于"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://BJPotter.github.io/post/zsh.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Orign Potter's 个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline"></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2024-09-07T17:28:23+08:00">
                2024-09-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Zsh 开发指南（一）：变量和语句<br>导读<br>网上关于 zsh 的文章有很多，但其中超过 95% 的文章讲如何使用和配置，写如何用 zsh 编程的文章很少，能找到的多数也是只言片语，不成系统。国外有几本讲 zsh 的书，其中也有很多内容是配置、使用、编写补全脚本等等，对编程有用的篇幅占比并不多，而且比较零散不便于查询。至于官方文档？那是让即使有多年编程经验的开发者也会抓狂的神奇存在。可读性极差，而且基本没有例子，不熟悉文档结构和内容的话，很难找到自己想要的东西。但内容覆盖很全面，洋洋洒洒近 500 页，耐心去看总会找到的。还有一份官方“入门”文档，上次更新时间是 2002 年，也要 300 多页，至于可读性，比官网文档要稍微好一些吧，还是有一定的参考价值的。官网上还有一些链接，里边内容比较零散，也可以看看。</p>
<p>很多人在 zsh 中用 bash 语法写脚本，虽然也可以正常运行，但这样无法利用 zsh 的众多优秀特性，还是非常遗憾的。熟悉下 zsh 下独有的特性，对写脚本的帮助是很大的。</p>
<p>本系列文章无关 zsh 的安装、使用、配置（如果需要配置文件，可以参考我的 .zshrc，里边有比较详细的注释），更无 oh-my-zsh 相关内容，安装 zsh 后无需配置即可开始学习编写脚本。读者不需要有 bash 的基础（最好了解一些），但需要接触过任何一门编程语言，对编程的一些基础概念要有了解。</p>
<p>为什么用 zsh 写脚本<br>很多人对 zsh 的了解停留在界面漂亮、主题多、插件多、补全强等等，而对 zsh 的语言特性了解并不多。因为 zsh 基本兼容 bash，不少人使用 bash 语法写 zsh 脚本，或者偶尔使用一些 zsh 特有的小技巧，很难体会出 zsh 作为一门编程语言的强大之处。</p>
<p>另外有些人认为 bash 几乎在所有类 Unix 系统都有默认安装，而 zsh 往往要自己安装，为了通用性而用 bash 写脚本比较好。这个说法也有一定的道理，但并不是对所有开发者来说都有影响。如果是开源软件的开发者，为了避免洁癖用户因为不想安装他用不到的 zsh 而不使用自己的软件，而避免使用 zsh，是有一定道理的（但现在 zsh 的用户量也有一定的积累了）。除此之外，自己平时写脚本、公司内部使用等多数场景，都是不需要考虑这个因素的。</p>
<p>如果在公司使用，还涉及其他因素。</p>
<p>第一个是 zsh 的部署成本。但因为多数情况都需要部署其他软件，甚至自己的脚本可以和 zsh 打包部署（去掉用不到的文件后的 zsh 只有 1M 多），所以基本不成问题。而且如果使用系统默认的 bash 的话，还涉及版本不同导致的问题，比如不同系统的 bash 版本不一样，或者系统升级后，bash 的升级导致之前的脚本挂掉等等。所以即使使用 bash，最好也是统一部署或者自带一个特定的版本，而不是使用系统默认的，以减少不必要的麻烦。</p>
<p>第二个就是非常重要的学习成本。因为会写 bash 的人很多，但会写 zsh 的比较少，如果只有自己会写，那么和别人合作会出问题。但 zsh 的学习成本并没有那么大，尤其是对会 bash 开发者来说，要大致看懂 zsh 脚本基本只需要几十分钟的学习，而编写的话，循序渐进也是很自然的事情，而且想不起来的时候还可以用 bash 的语法写。所以学习成本没有那么可观。</p>
<p>第三个是使用 zsh 开发的好处。如果 zsh 和 bash 相比，没有明显的好处，为什么要学习和使用它呢？那么就要从 bash 痛点讲起了。我想经常写 bash 脚本的人，很少有人会举大拇指说 bash 真好用啊。相反，我曾经多次听某些开发者说我写过一个超过 2000（或者其他行数）行的 shell（bash）脚本。但几乎没有人会认为写一个超过 2000 行的 Python 脚本是一件多么特别的事情。蹩脚的语法（几乎所有从任何其他语言迁移过来的开发者，都要重新熟悉和习惯它的语法）、严重依赖外部命令（因为文件系统错误等问题，挂掉一个外部命令，脚本就休克了。命令版本不同会有用法上的微秒差别，调试测试困难。频繁起新进程性能低下）、功能孱弱蹩脚（很多需要频繁使用的功能不全面或者不好用，比如字符串处理和数组的用法）等等，让很多开发者非常头疼，其中有些人甚至主张禁止使用 shell 脚本，一律改用 Python 等等，但 Python 并非适用所有场景，而且也有另外的一些问题，这样做也是因噎废食。Zsh 并非将这些问题全部解决了，但和 bash 相比，有很大的改善。比如 zsh 支持多种风格的语法，开发者很容易找到亲切感；对外部命令的依赖比 bash 要轻很多，多数常用的功能不需要使用外部命令，性能更好，调试也更加方便；功能上和 bash 相比也有比较大的提升，处理不那么复杂的场景已经比较够用了。</p>
<p>有人可能会说，不如“一步到位”，使用 Powershell。Powershell 的确比 Python 更适合作为一种 shell 脚本语言，但使用它的话会有其他问题。</p>
<p>首先 Powershell 的学习成本是绝对要比 zsh 高的，如果想省点事，这并不是好的选择。</p>
<p>其次 Linux 下的 Powershell 目前还是 beta 版，以后会不会有很多人用也很难说，如果很少有人用，那么生态环境就成问题。比如遇到问题后找不到解决办法，配套的软件和库不完善等等。</p>
<p>再次 Powershell 解释器的启动速度非常感人，在我的机器上，Windows 下的 Powershell 空脚本要执行将近 200 毫秒，Linux 下的要更长一些（我只在 WSL 里安装试用过，时间翻了几倍），而 zsh 的话，在 Linux 下不超过 5 毫秒，在 WSL 下也不超过 20 毫秒。如果写一个简单的脚本，运行时都要卡一下，是非常影响体验的。</p>
<p>最后如果平时就使用 Powershell 作为交互 shell，那么虽然脚本的启动时间问题有所缓解，但用户体验会差很多，而且以后也很难提升上来，很容易得不偿失。</p>
<p>Zsh 脚本样例<br>可以通过一个例子直观感受下用 zsh 写的脚本。这是一个删除当前目录以及所有子目录下重复文件的脚本，通过 md5 判断文件是否相同（不严谨）。熟悉 bash 的读者可以尝试用 bash 完成相同的功能，然后对比一下代码（我之前写过一个 bash 版本的，不贴上来了），就能比较直观地感受到 bash 和 zsh 的区别了。</p>
<p>#!&#x2F;bin&#x2F;zsh<br>local files&#x3D;(“${(f)$(md5sum **&#x2F;*(.D))}”)<br>local files_to_delete&#x3D;()<br>local -A md5s<br>for i ($files) {<br>    local md5&#x3D;$i[1,32]<br>    if (($+md5s[$md5])) {<br>        files_to_delete+&#x3D;($i[35,-1])<br>    } else {<br>        md5s[$md5]&#x3D;1<br>    }<br>}<br>(($#files_to_delete)) &amp;&amp; rm -v $files_to_delete<br>为什么要使用 shell 脚本语言<br>对于没有接触过 shell 脚本的开发者或者用户来说，有一个更重要的问题，我为什么要学习和使用 shell 脚本呢？</p>
<p>那么要从 shell 脚本的使用场景说起。Shell 是一种和计算机系统交互的文本界面（CLI），简单说就是输入命令后返回结果（也有比较复杂的操作）。CLI 在某些场景要比图形界面（GUI）方便和高效很多，是不可取代的（即使有一天语音识别取代了文本输入，CLI 也会换汤不换药地继续存在）。那么使用 CLI 就必须约定好指令格式，而 shell 脚本就是一种用于 CLI 交互的指令格式。</p>
<p>因为这个比较特别的场景，shell 脚本有一些与其他编程语言不同的特点。一个很重要的特点，shell 脚本要比较简洁，容易输入。如果发送一条简单指令就要打几十个字符，那恐怕谁也无法接受。而为了达到可以接受的简洁程度，shell 脚本的语法，往往比其他编程语言的更加怪异。</p>
<p>有人可能会说，这搞混了两个事情。在 CLI 输入命令和写脚本文件然后执行命令是两回事，不需要使用同一种语言，而只是在 CLI 交互中，通常是没有必要写复杂逻辑的，也就是说 shell 脚本基本没有必要学习。</p>
<p>是两回事不假，但二者并不是不相关的。比如有人这么想后，决定在 shell 里只使用最简单的命令，不学习较为复杂的语法，如果需要写脚本，就用 Python 之类的语言写。那么有什么问题吗？</p>
<p>Python 是为通用的场景设计的，虽然也能处理 shell 脚本所做的事情，但往往要写出多几倍甚至几十倍（如果对 Python 也不甚了解的话）的代码出来。而很多时候，shell 脚本做的是一次性工作，运行完就直接删除，或者直接在一行敲完，回车即可，这样的场景用 Python 写成本要高出很多。而且并不是一个 Python 初学者就能用 Python 实现 shell 脚本的功能的，甚至熟练的 Python 开发者也很可能一时想不好怎么实现某个用 shell 脚本能很容易实现的功能。Shell 脚本的很多工作是和字符串和目录文件打交道，特点是要实现的功能复杂多样，没有固定模式，无论用什么语言写，都不容易。Python 自带的字符串和目录文件等类库功能非常基础，基本只能实现功能很单一的操作，稍微复杂点的功能都需要自己写。如果去找某些功能复杂的第三方库，那就会涉及一堆问题，比如同样有学习和部署成本，可能因为用户少所以有 bug 未被发现，可能已经没有人维护了，Python 的语法决定库怎么写都不能让语法太简洁等等。</p>
<p>而初步熟悉一门 shell 脚本只需要几十分钟，用多了自然就熟悉了，成本收益的权衡不言而喻。</p>
<p>格式约定<br>文中行首的 % 代表 zsh 的命令提示符（类似 bash 的 $，这个是可以自由定义的，具体是什么不重要），行首的 &gt; 代表此行是换行后的输入内容，以 # 开头的为注释（非 root 用户的命令提示符，本系列文章不需要 root 用户），其余的是命令的输出内容。另外某些地方会贴成段的 zsh 代码，那样就省略开头的 %，比较容易分辨。</p>
<p>一个样例：</p>
<h1 id="前两行是输入内容，第三行是输出内容"><a href="#前两行是输入内容，第三行是输出内容" class="headerlink" title="前两行是输入内容，第三行是输出内容"></a>前两行是输入内容，第三行是输出内容</h1><p>% echo “Hello \</p>
<blockquote>
<p>World”<br>Hello World<br>本系列文章使用的 zsh 版本是 5.4.1（写这篇文章时的最新版本），代码在老版本中可能运行不了或者结果有出入，尽量使用最新版本。</p>
</blockquote>
<p>下面直接进入正题。</p>
<p>变量<br>接触一门新的编程语言，运行完 Hello World 后，首先要了解的基本就是如何定义和使用变量了。有了变量后可以比较变量内容，进而可以接触条件、循环、分支等语句，继而了解函数的用法，更高级的数据结构的使用，更多库函数，等等。这样就大概了解了一门面向过程的语言的基本用法，剩下的可以等到用的时候再查手册。</p>
<p>所以这一篇讲最基本的变量和语句。</p>
<p>zsh 有 5 种变量：整数、浮点数（bash 不支持）、字符串、数组、哈希表（或者叫关联数组或者字典，本系列文章统一使用“哈希表”这一名词），另外还有一些其他语言少有的东西，比如 alias（但主要是交互时使用，编程时基本用不到）。此篇只涉及整数、浮点数、字符串，并且不涉及数值计算和字符串处理等内容。</p>
<p>变量定义<br>Zsh 的变量多数情况不需要提前声明或者指定类型，可以直接赋值和使用（但哈希表是一个例外）。</p>
<h1 id="等号两端不能有空格"><a href="#等号两端不能有空格" class="headerlink" title="等号两端不能有空格"></a>等号两端不能有空格</h1><p>% num1&#x3D;123<br>% num2&#x3D;123.456<br>% str1&#x3D;abcde</p>
<h1 id="如果字符串中包含空格等特殊字符，需要加引号"><a href="#如果字符串中包含空格等特殊字符，需要加引号" class="headerlink" title="如果字符串中包含空格等特殊字符，需要加引号"></a>如果字符串中包含空格等特殊字符，需要加引号</h1><p>% str2&#x3D;’abc def’</p>
<h1 id="也可以用双引号，但和单引号有区别，比如双引号里可以使用变量，而单引号不可以"><a href="#也可以用双引号，但和单引号有区别，比如双引号里可以使用变量，而单引号不可以" class="headerlink" title="也可以用双引号，但和单引号有区别，比如双引号里可以使用变量，而单引号不可以"></a>也可以用双引号，但和单引号有区别，比如双引号里可以使用变量，而单引号不可以</h1><p>% str3&#x3D;”abc def $num1”</p>
<h1 id="在字符串中可以使用转义字符，单双引号均可"><a href="#在字符串中可以使用转义字符，单双引号均可" class="headerlink" title="在字符串中可以使用转义字符，单双引号均可"></a>在字符串中可以使用转义字符，单双引号均可</h1><p>% str4&#x3D;”abc\tdef\ng”</p>
<h1 id="输出变量，也可以使用-print"><a href="#输出变量，也可以使用-print" class="headerlink" title="输出变量，也可以使用 print"></a>输出变量，也可以使用 print</h1><p>% echo $str1<br>abcde</p>
<h1 id="简单的数值计算"><a href="#简单的数值计算" class="headerlink" title="简单的数值计算"></a>简单的数值计算</h1><p>% num3&#x3D;$(($num1 + $num2))</p>
<h1 id="中的变量名可以不用"><a href="#中的变量名可以不用" class="headerlink" title="(( 中的变量名可以不用 $"></a>(( 中的变量名可以不用 $</h1><p>% num3&#x3D;$((num1 + num2))</p>
<h1 id="简单的字符串操作"><a href="#简单的字符串操作" class="headerlink" title="简单的字符串操作"></a>简单的字符串操作</h1><p>% str&#x3D;abcdef</p>
<h1 id="2-和-4-都是字符在数组的位置，从-1-开始数，逗号两边不能有空格"><a href="#2-和-4-都是字符在数组的位置，从-1-开始数，逗号两边不能有空格" class="headerlink" title="2 和 4 都是字符在数组的位置，从 1 开始数，逗号两边不能有空格"></a>2 和 4 都是字符在数组的位置，从 1 开始数，逗号两边不能有空格</h1><p>% echo $str[2,4]<br>bcd</p>
<h1 id="1-是最后一个字符"><a href="#1-是最后一个字符" class="headerlink" title="-1 是最后一个字符"></a>-1 是最后一个字符</h1><p>% echo $str[4,-1]<br>def<br>变量比较</p>
<h1 id="比较数值"><a href="#比较数值" class="headerlink" title="比较数值"></a>比较数值</h1><p>% num&#x3D;123</p>
<h1 id="用于数值比较等操作，如果为真返回-0，否则返回-1"><a href="#用于数值比较等操作，如果为真返回-0，否则返回-1" class="headerlink" title="(( )) 用于数值比较等操作，如果为真返回 0，否则返回 1"></a>(( )) 用于数值比较等操作，如果为真返回 0，否则返回 1</h1><h1 id="amp-amp-后边的语句在前边的语句为真时才执行"><a href="#amp-amp-后边的语句在前边的语句为真时才执行" class="headerlink" title="&amp;&amp; 后边的语句在前边的语句为真时才执行"></a>&amp;&amp; 后边的语句在前边的语句为真时才执行</h1><h1 id="注意这里只能使用双等号来比较"><a href="#注意这里只能使用双等号来比较" class="headerlink" title="注意这里只能使用双等号来比较"></a>注意这里只能使用双等号来比较</h1><p>% ((num &#x3D;&#x3D; 123)) &amp;&amp; echo good<br>good</p>
<h1 id="里边可以使用与（-amp-amp-）或（-）非（-）操作符，同-c-系列语言"><a href="#里边可以使用与（-amp-amp-）或（-）非（-）操作符，同-c-系列语言" class="headerlink" title="(( 里边可以使用与（&amp;&amp;）或（||）非（!）操作符，同 c 系列语言"></a>(( 里边可以使用与（&amp;&amp;）或（||）非（!）操作符，同 c 系列语言</h1><p>% ((num &#x3D;&#x3D; 1 || num &#x3D;&#x3D; 2)) &amp;&amp; echo good</p>
<h1 id="比较字符串"><a href="#比较字符串" class="headerlink" title="比较字符串"></a>比较字符串</h1><h1 id="str-x3D-abc"><a href="#str-x3D-abc" class="headerlink" title="% str&#x3D;abc"></a>% str&#x3D;abc</h1><h1 id="比较字符串要用-，内侧要有空格，-的具体用法之后会讲到"><a href="#比较字符串要用-，内侧要有空格，-的具体用法之后会讲到" class="headerlink" title="比较字符串要用 [[，内侧要有空格，[[ 的具体用法之后会讲到"></a>比较字符串要用 [[，内侧要有空格，[[ 的具体用法之后会讲到</h1><h1 id="这里双等号可以替换成单等号，可以根据自己的习惯选用"><a href="#这里双等号可以替换成单等号，可以根据自己的习惯选用" class="headerlink" title="这里双等号可以替换成单等号，可以根据自己的习惯选用"></a>这里双等号可以替换成单等号，可以根据自己的习惯选用</h1><h1 id="本系列文章统一使用双等号，因为和-一致，并且使用双等号的常用编程语言更多些"><a href="#本系列文章统一使用双等号，因为和-一致，并且使用双等号的常用编程语言更多些" class="headerlink" title="本系列文章统一使用双等号，因为和 (( )) 一致，并且使用双等号的常用编程语言更多些"></a>本系列文章统一使用双等号，因为和 (( )) 一致，并且使用双等号的常用编程语言更多些</h1><h1 id="str-两侧不需要加双引号，即使-str-未定义或者-str-中含空格和特殊符号"><a href="#str-两侧不需要加双引号，即使-str-未定义或者-str-中含空格和特殊符号" class="headerlink" title="$str 两侧不需要加双引号，即使 str 未定义或者 $str 中含空格和特殊符号"></a>$str 两侧不需要加双引号，即使 str 未定义或者 $str 中含空格和特殊符号</h1><p>% [[ “$str” &#x3D;&#x3D; abc ]] &amp;&amp; echo good<br>good</p>
<h1 id="可以和空字符串-“”-比较，未定义的字符串和空字符串比较结果为真"><a href="#可以和空字符串-“”-比较，未定义的字符串和空字符串比较结果为真" class="headerlink" title="可以和空字符串 “” 比较，未定义的字符串和空字符串比较结果为真"></a>可以和空字符串 “” 比较，未定义的字符串和空字符串比较结果为真</h1><h1 id="里也可以用-amp-amp"><a href="#里也可以用-amp-amp" class="headerlink" title="[[ 里也可以用 &amp;&amp; || !"></a>[[ 里也可以用 &amp;&amp; || !</h1><p>% [[ $str &#x3D;&#x3D; “” || <span class="x x-first x-last">$</span>str &#x3D;&#x3D; 123 ]] &amp;&amp; echo good<br>语句<br>稍微了解下简单变量的使用后，快速进入语句部分。</p>
<p>zsh 支持多种风格的语法，包括经典的 posix shell （bash 的语法和它类似，但有一些扩展，可以归为一类）的，以及 csh 风格的等等。但 posix shell 的语法并不好用，我们没必要一定使用这个。我只选用一种我认为最方便简洁的语法，没有 fi、then、do、done、esac、in 等的关键字（虽然其中某些关键字其他编程语言也有，但基本用法都各异，而且容易混淆），也不需要多余的分号。如果不确定语法是否符合预期，可以定义一个函数然后使用 which 查看，内容会被转化成原始（posix shell 风格）的样子。熟悉 bash 并且喜欢使用 bash 语法的读者可以跳过这部分内容，语法的不同并不影响后续内容的阅读，继续使用 bash 风格语法写 zsh 也是没有问题的。</p>
<p>条件语句</p>
<h1 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h1><p>if [[ ]] {<br>} elif {<br>} else {<br>}<br>大括号也可以另起一行，本系列文章统一使用这种风格，缩进为 4 个空格。注意 elif 不可写作 else if。</p>
<p>[[ ]] 用于比较字符串、判断文件等，功能比较复杂多样，这里先使用最基础的用法。注意尽量不要用 [[ ]] 比较数值，因为不留神的话，数值会被转化成字符串来比较，没有任何错误提示，但结果可能不符合预期，导致不必要的麻烦。</p>
<h1 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h1><p>if [[ “$str” &#x3D;&#x3D; “name” || “$str” &#x3D;&#x3D; “value” ]] {<br>    echo “$str”<br>}<br>(( )) 用于比较数值，里边可以调用各种数值相关的函数，格式类似 c 语言，变量前的 $ 可省略。</p>
<h1 id="格式-1"><a href="#格式-1" class="headerlink" title="格式"></a>格式</h1><p>if (( )) {<br>}</p>
<h1 id="样例-1"><a href="#样例-1" class="headerlink" title="样例"></a>样例</h1><p>if ((num &gt; 3 &amp;&amp; num + 3 &lt; 10)) {<br>    echo $num<br>}<br>{ } 用于在当前 shell 运行命令并且判断运行结果。</p>
<h1 id="格式-2"><a href="#格式-2" class="headerlink" title="格式"></a>格式</h1><p>if { } {<br>}</p>
<h1 id="样例-2"><a href="#样例-2" class="headerlink" title="样例"></a>样例</h1><p>if {grep sd1 &#x2F;etc&#x2F;fstab} {<br>    echo good<br>}<br>( ) 用于在子 shell 运行命令并且判断运行结果，用法和 {} 类似，不再举例。</p>
<h1 id="格式-3"><a href="#格式-3" class="headerlink" title="格式"></a>格式</h1><p>if ( ) {<br>}<br>这几种括号可以一起使用，这样可以同时判断字符串、数值、文件、命令结果等等。最好不要混合使用 &amp;&amp; ||，会导致可读性变差和容易出错。</p>
<h1 id="格式-4"><a href="#格式-4" class="headerlink" title="格式"></a>格式</h1><p>if [[ ]] &amp;&amp; (( )) &amp;&amp; { } {<br>}<br>循环语句</p>
<h1 id="格式-5"><a href="#格式-5" class="headerlink" title="格式"></a>格式</h1><p>while [[ ]] {<br>    break&#x2F;continue<br>}<br>和 if 一样，这里的 [[ ]] 可以替换成其他几种括号，功能也是一样的，不再依次举例。break 用于结束循环，continue 用于直接进入下一次循环。所有的循环语句中都可以使用 break 和 continue，下边不再赘述。</p>
<h1 id="样例-死循环"><a href="#样例-死循环" class="headerlink" title="样例 死循环"></a>样例 死循环</h1><p> while (( 1 )) {<br>    echo good<br>}<br>until 和 while 相反，不满足条件时运行，一旦满足则停止，其他的用法和 while 相同，不再举例。</p>
<h1 id="格式-6"><a href="#格式-6" class="headerlink" title="格式"></a>格式</h1><p>until [[ ]] {<br>}<br>for 循环主要用于枚举，这里的括号是 for 的特有用法，不是在子 shell 执行。括号内是字符串（可放多个，空格隔开）、数组（可放多个）或者哈希表（可放多个，哈希表是枚举值而不是键）。i 是用于枚举内容的变量名，变量名随意。</p>
<h1 id="格式-7"><a href="#格式-7" class="headerlink" title="格式"></a>格式</h1><p>for i ( ) {<br>}</p>
<h1 id="样例-3"><a href="#样例-3" class="headerlink" title="样例"></a>样例</h1><p>for i (aa bb cc) {<br>    echo $i<br>}</p>
<h1 id="枚举当前目录的-txt-文件"><a href="#枚举当前目录的-txt-文件" class="headerlink" title="枚举当前目录的 txt 文件"></a>枚举当前目录的 txt 文件</h1><p>for i (*.txt) {<br>    echo $i<br>}</p>
<h1 id="枚举数组"><a href="#枚举数组" class="headerlink" title="枚举数组"></a>枚举数组</h1><p>array&#x3D;(aa bb cc)<br>for i ($array) {<br>    echo $i<br>}<br>经典的 c 风格 for 循环。</p>
<h1 id="格式-8"><a href="#格式-8" class="headerlink" title="格式"></a>格式</h1><p>for (( ; ; )) {<br>}</p>
<h1 id="样例-4"><a href="#样例-4" class="headerlink" title="样例"></a>样例</h1><p>for ((i&#x3D;0; i &lt; 10; i++)) {<br>    echo $i<br>}<br>这个样例只是举例，实际上多数情况不需要使用这种 for 循环，可以这样。</p>
<h1 id="样例，-1-10-可以生成一个-1-到-10-的数组"><a href="#样例，-1-10-可以生成一个-1-到-10-的数组" class="headerlink" title="样例，{1..10} 可以生成一个 1 到 10 的数组"></a>样例，{1..10} 可以生成一个 1 到 10 的数组</h1><p>for i ({1..10}) {<br>    echo $i<br>}<br>repeat 语句用于循环固定次数，n 是一个整数或者内容为整数的变量。</p>
<h1 id="格式-9"><a href="#格式-9" class="headerlink" title="格式"></a>格式</h1><p>repeat n {<br>}</p>
<h1 id="样例-5"><a href="#样例-5" class="headerlink" title="样例"></a>样例</h1><p>repeat 5 {<br>    echo good<br>}<br>分支语句<br>分支逻辑用 if 也可以实现，但 case 更适合这种场景，并且功能更强大。</p>
<h1 id="格式-样例"><a href="#格式-样例" class="headerlink" title="格式 + 样例"></a>格式 + 样例</h1><p>case $i {<br>    (a)<br>    echo 1<br>    ;;<br>    (b)<br>    echo 2<br>    # 继续执行下一个<br>    ;&amp;<br>    (c)<br>    echo 3<br>    # 继续向下匹配<br>    ;|<br>    (c)<br>    echo 33<br>    ;;<br>    (d)<br>    echo 4<br>    ;;<br>    (*)<br>    echo other<br>    ;;<br>}<br>;; 代表结束 case 语句，;&amp; 代表继续执行紧接着的下一个匹配的语句（不再进行匹配），;| 代表继续往下匹配看是否有满足条件的分支。</p>
<p>用户输入选择语句<br>select 语句是用于根据用户的选择决定分支的语句，语法和 for 语句差不多，如果不 break，会循环让用户选择。</p>
<h1 id="格式-10"><a href="#格式-10" class="headerlink" title="格式"></a>格式</h1><p>select i ( ) {<br>}</p>
<h1 id="样例-6"><a href="#样例-6" class="headerlink" title="样例"></a>样例</h1><p>select i (aa bb cc) {<br>    echo $i<br>}<br>输出是这样的。</p>
<ol>
<li>aa  2) bb  3) cc<br>?#<br>按上边的数字加回车来选择。</li>
</ol>
<p>异常处理语句</p>
<h1 id="格式-11"><a href="#格式-11" class="headerlink" title="格式"></a>格式</h1><p>{<br>    语句 1<br>} always {<br>    语句 2<br>}<br>如果语句 1 执行出错，则执行语句 2。</p>
<p>简化的条件语句<br>if 语句的简化版，在只有一个分支的情况下更简洁，功能和 if 语句类似，不赘述。</p>
<p>格式：<br>[[ ]] || {<br>}<br>[[ ]] &amp;&amp; {<br>}<br>最好不要连续混合使用 &amp;&amp; ||，比如。</p>
<p>aa &amp;&amp; bb || cc &amp;&amp; dd<br>容易导致逻辑错误或者误解，可以用 { } 把语句包含起来。</p>
<p>aa &amp;&amp; { bb || { cc &amp;&amp; dd } }<br>比较复杂的判断还是用 if 可读写更好，&amp;&amp; || 通常只适用于简单的场景。</p>
<p>总结<br>本篇简单介绍了变量和语句的使用方法。变量部分只涉及了最基础常用的部分，后续文章会详细介绍。语句部分已经覆盖了所有需要使用的语句，实际上这些语句都不只有这一种语法，但本系列文章统一使用这个语法。但涉及到的几种括号的用法比较复杂，之后的文章也会详细介绍。</p>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    Orign Potter
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://bjpotter.github.io/post/zsh.html" title="">https://bjpotter.github.io/post/zsh.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/post/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html" rel="next" title="">
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive%20%20%20%20%20%20%20%20%20%20/%E5%BD%92%E6%A1%A3">
              
                  <span class="site-state-item-count">55</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/BJPotter" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:liuzhi0531@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/imlzgg" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://youtube.com/potterhacks" target="_blank" title="YouTube">
                      
                        <i class="fa fa-fw fa-youtube"></i>YouTube</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E4%B8%A4%E8%A1%8C%E6%98%AF%E8%BE%93%E5%85%A5%E5%86%85%E5%AE%B9%EF%BC%8C%E7%AC%AC%E4%B8%89%E8%A1%8C%E6%98%AF%E8%BE%93%E5%87%BA%E5%86%85%E5%AE%B9"><span class="nav-number">1.</span> <span class="nav-text">前两行是输入内容，第三行是输出内容</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AD%89%E5%8F%B7%E4%B8%A4%E7%AB%AF%E4%B8%8D%E8%83%BD%E6%9C%89%E7%A9%BA%E6%A0%BC"><span class="nav-number">2.</span> <span class="nav-text">等号两端不能有空格</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%8C%85%E5%90%AB%E7%A9%BA%E6%A0%BC%E7%AD%89%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E5%BC%95%E5%8F%B7"><span class="nav-number">3.</span> <span class="nav-text">如果字符串中包含空格等特殊字符，需要加引号</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%E5%8F%8C%E5%BC%95%E5%8F%B7%EF%BC%8C%E4%BD%86%E5%92%8C%E5%8D%95%E5%BC%95%E5%8F%B7%E6%9C%89%E5%8C%BA%E5%88%AB%EF%BC%8C%E6%AF%94%E5%A6%82%E5%8F%8C%E5%BC%95%E5%8F%B7%E9%87%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F%EF%BC%8C%E8%80%8C%E5%8D%95%E5%BC%95%E5%8F%B7%E4%B8%8D%E5%8F%AF%E4%BB%A5"><span class="nav-number">4.</span> <span class="nav-text">也可以用双引号，但和单引号有区别，比如双引号里可以使用变量，而单引号不可以</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%EF%BC%8C%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7%E5%9D%87%E5%8F%AF"><span class="nav-number">5.</span> <span class="nav-text">在字符串中可以使用转义字符，单双引号均可</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E5%8F%98%E9%87%8F%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8-print"><span class="nav-number">6.</span> <span class="nav-text">输出变量，也可以使用 print</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97"><span class="nav-number">7.</span> <span class="nav-text">简单的数值计算</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F%E5%90%8D%E5%8F%AF%E4%BB%A5%E4%B8%8D%E7%94%A8"><span class="nav-number">8.</span> <span class="nav-text">(( 中的变量名可以不用 $</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C"><span class="nav-number">9.</span> <span class="nav-text">简单的字符串操作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E5%92%8C-4-%E9%83%BD%E6%98%AF%E5%AD%97%E7%AC%A6%E5%9C%A8%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%8D%E7%BD%AE%EF%BC%8C%E4%BB%8E-1-%E5%BC%80%E5%A7%8B%E6%95%B0%EF%BC%8C%E9%80%97%E5%8F%B7%E4%B8%A4%E8%BE%B9%E4%B8%8D%E8%83%BD%E6%9C%89%E7%A9%BA%E6%A0%BC"><span class="nav-number">10.</span> <span class="nav-text">2 和 4 都是字符在数组的位置，从 1 开始数，逗号两边不能有空格</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E6%98%AF%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="nav-number">11.</span> <span class="nav-text">-1 是最后一个字符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E6%95%B0%E5%80%BC"><span class="nav-number">12.</span> <span class="nav-text">比较数值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%94%A8%E4%BA%8E%E6%95%B0%E5%80%BC%E6%AF%94%E8%BE%83%E7%AD%89%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%BA%E7%9C%9F%E8%BF%94%E5%9B%9E-0%EF%BC%8C%E5%90%A6%E5%88%99%E8%BF%94%E5%9B%9E-1"><span class="nav-number">13.</span> <span class="nav-text">(( )) 用于数值比较等操作，如果为真返回 0，否则返回 1</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#amp-amp-%E5%90%8E%E8%BE%B9%E7%9A%84%E8%AF%AD%E5%8F%A5%E5%9C%A8%E5%89%8D%E8%BE%B9%E7%9A%84%E8%AF%AD%E5%8F%A5%E4%B8%BA%E7%9C%9F%E6%97%B6%E6%89%8D%E6%89%A7%E8%A1%8C"><span class="nav-number">14.</span> <span class="nav-text">&amp;&amp; 后边的语句在前边的语句为真时才执行</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8C%E5%8F%AA%E8%83%BD%E4%BD%BF%E7%94%A8%E5%8F%8C%E7%AD%89%E5%8F%B7%E6%9D%A5%E6%AF%94%E8%BE%83"><span class="nav-number">15.</span> <span class="nav-text">注意这里只能使用双等号来比较</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%87%8C%E8%BE%B9%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E4%B8%8E%EF%BC%88-amp-amp-%EF%BC%89%E6%88%96%EF%BC%88-%EF%BC%89%E9%9D%9E%EF%BC%88-%EF%BC%89%E6%93%8D%E4%BD%9C%E7%AC%A6%EF%BC%8C%E5%90%8C-c-%E7%B3%BB%E5%88%97%E8%AF%AD%E8%A8%80"><span class="nav-number">16.</span> <span class="nav-text">(( 里边可以使用与（&amp;&amp;）或（||）非（!）操作符，同 c 系列语言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">17.</span> <span class="nav-text">比较字符串</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#str-x3D-abc"><span class="nav-number">18.</span> <span class="nav-text">% str&#x3D;abc</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A6%81%E7%94%A8-%EF%BC%8C%E5%86%85%E4%BE%A7%E8%A6%81%E6%9C%89%E7%A9%BA%E6%A0%BC%EF%BC%8C-%E7%9A%84%E5%85%B7%E4%BD%93%E7%94%A8%E6%B3%95%E4%B9%8B%E5%90%8E%E4%BC%9A%E8%AE%B2%E5%88%B0"><span class="nav-number">19.</span> <span class="nav-text">比较字符串要用 [[，内侧要有空格，[[ 的具体用法之后会讲到</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%99%E9%87%8C%E5%8F%8C%E7%AD%89%E5%8F%B7%E5%8F%AF%E4%BB%A5%E6%9B%BF%E6%8D%A2%E6%88%90%E5%8D%95%E7%AD%89%E5%8F%B7%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%A0%B9%E6%8D%AE%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B9%A0%E6%83%AF%E9%80%89%E7%94%A8"><span class="nav-number">20.</span> <span class="nav-text">这里双等号可以替换成单等号，可以根据自己的习惯选用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%AC%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0%E7%BB%9F%E4%B8%80%E4%BD%BF%E7%94%A8%E5%8F%8C%E7%AD%89%E5%8F%B7%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%92%8C-%E4%B8%80%E8%87%B4%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BD%BF%E7%94%A8%E5%8F%8C%E7%AD%89%E5%8F%B7%E7%9A%84%E5%B8%B8%E7%94%A8%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E6%9B%B4%E5%A4%9A%E4%BA%9B"><span class="nav-number">21.</span> <span class="nav-text">本系列文章统一使用双等号，因为和 (( )) 一致，并且使用双等号的常用编程语言更多些</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#str-%E4%B8%A4%E4%BE%A7%E4%B8%8D%E9%9C%80%E8%A6%81%E5%8A%A0%E5%8F%8C%E5%BC%95%E5%8F%B7%EF%BC%8C%E5%8D%B3%E4%BD%BF-str-%E6%9C%AA%E5%AE%9A%E4%B9%89%E6%88%96%E8%80%85-str-%E4%B8%AD%E5%90%AB%E7%A9%BA%E6%A0%BC%E5%92%8C%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="nav-number">22.</span> <span class="nav-text">$str 两侧不需要加双引号，即使 str 未定义或者 $str 中含空格和特殊符号</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%AF%E4%BB%A5%E5%92%8C%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2-%E2%80%9C%E2%80%9D-%E6%AF%94%E8%BE%83%EF%BC%8C%E6%9C%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E4%B8%BA%E7%9C%9F"><span class="nav-number">23.</span> <span class="nav-text">可以和空字符串 “” 比较，未定义的字符串和空字符串比较结果为真</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%87%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8-amp-amp"><span class="nav-number">24.</span> <span class="nav-text">[[ 里也可以用 &amp;&amp; || !</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F"><span class="nav-number">25.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B"><span class="nav-number">26.</span> <span class="nav-text">样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-1"><span class="nav-number">27.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-1"><span class="nav-number">28.</span> <span class="nav-text">样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-2"><span class="nav-number">29.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-2"><span class="nav-number">30.</span> <span class="nav-text">样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-3"><span class="nav-number">31.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-4"><span class="nav-number">32.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-5"><span class="nav-number">33.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-%E6%AD%BB%E5%BE%AA%E7%8E%AF"><span class="nav-number">34.</span> <span class="nav-text">样例 死循环</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-6"><span class="nav-number">35.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-7"><span class="nav-number">36.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-3"><span class="nav-number">37.</span> <span class="nav-text">样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E7%9A%84-txt-%E6%96%87%E4%BB%B6"><span class="nav-number">38.</span> <span class="nav-text">枚举当前目录的 txt 文件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E6%95%B0%E7%BB%84"><span class="nav-number">39.</span> <span class="nav-text">枚举数组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-8"><span class="nav-number">40.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-4"><span class="nav-number">41.</span> <span class="nav-text">样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B%EF%BC%8C-1-10-%E5%8F%AF%E4%BB%A5%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA-1-%E5%88%B0-10-%E7%9A%84%E6%95%B0%E7%BB%84"><span class="nav-number">42.</span> <span class="nav-text">样例，{1..10} 可以生成一个 1 到 10 的数组</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-9"><span class="nav-number">43.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-5"><span class="nav-number">44.</span> <span class="nav-text">样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-%E6%A0%B7%E4%BE%8B"><span class="nav-number">45.</span> <span class="nav-text">格式 + 样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-10"><span class="nav-number">46.</span> <span class="nav-text">格式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%B7%E4%BE%8B-6"><span class="nav-number">47.</span> <span class="nav-text">样例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F-11"><span class="nav-number">48.</span> <span class="nav-text">格式</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Orign Potter</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  


  

  

</body>
</html>
