---
title: 模板方法
tag: 设计模式
---

## 模板方法

>在模板模式（Template Pattern）中，一个抽象类公开定义了执行它的方法的方式/模板。它的子类可以按需要重写方法实现，但调用将以抽象类中定义的方式进行。这种类型的设计模式属于行为型模式
>
>Servlet就是一个很好的模板模式的类，只需要继承并且重写他的get、post方法就可以，因为它已经写好了这种模板

#### 自定义一个servlet

```java
/**
 * <p>
 * 自定义模板类
 * </p>
 */
public class ServletHttp extends HttpServlet {
    private static final long serialVersionUID = 1L;

    public ServletHttp() {
        super();
        // TODO Auto-generated constructor stub
    }
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //执行具体的业务逻辑
    }


    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req, resp);
    }

}
```

### 未自定义前我们的使用方式

```java
@WebServlet("/logout")
public class Logout extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     */
    public Logout() {
        super();
        // TODO Auto-generated constructor stub
    }

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

		request.getSession().invalidate();
		response.sendRedirect("index.html");
		
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		doGet(request, response);
	}

}


```

### 使用我们自定义的servlet模板

```java
/**
 * <p>
 * 模板模式类
 * </p>
 *
 */
@WebServlet("/logout2")
public class ModelLogout extends ServletHttp{
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        //执行具体的业务逻辑
        request.getSession().invalidate();
        response.sendRedirect("index.html");
    }
}
```

### 测试方式

```jsp
<%@ page pageEncoding="utf-8"%>
<h1 style="color: red; text-align: center;"></h1>
<body style="background:url(images/b3.jpg);background-size:cover;text-align: center;">
<div align="right">
	<a href="list_user">用户管理</a>&nbsp;&nbsp; 
	<a href="">游戏软件管理</a>&nbsp;&nbsp; 
	<a href="type_list">游戏分类管理</a>&nbsp;&nbsp; 
	<a href="logout">退出系统</a>&nbsp;&nbsp; 换成<a href="logout2">退出系统</a>&nbsp;&nbsp;
</div>
</body>
<hr>
```

