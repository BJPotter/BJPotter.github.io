---
title: 软件安装
tag: 安装
---

# Mysql安装

## 卸载自带mysql

```shell
rpm -e --nodeps mysql
```

## 创建mysql文件夹

```shell
mkdir -p /var/lib/mysql
```

## 安装Mysql

```shell
wget http://repo.mysql.com/mysql84-community-release-el7.rpm
rpm -ivh mysql84-community-release-el7.rpm
yum update
yum install -y mysql-server
```

## 初始化mysql

```shell
mysqld --initialize
```

## 赋予mysql权限

```shell
chown -R mysql:mysql  /var/lib/mysql
```

## 启动mysql

```shell
systemctl start mysqld
```

## 查找默认密码

```shell
grep 'temporary password' /var/log/mysqld.log
```

## 测试登录

```shell
mysql -u root -p 
#输入密码
```

## 修改默认密码

```shell
alter user 'root'@'localhost' identified by '123456';
```



## 远程登录

```shell
mysql -u root -p 
# 输入密码
use mysql;
update user set host='%' where user ='root';
flush privileges;
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%'WITH GRANT OPTION;
# 查询验证
select user,host from user;
#开放3306端口号，永久生效
firewall-cmd --zone=public --add-port=3306/tcp --permanent
#重启防火墙
firewall-cmd --reload
# 查看当前开放端口
firewall-cmd --list-ports
```

# 卸载mysql

## 关闭Mysql

```bash
systemctl stop mysqld
```

## 使用yum卸载安装的mysql

```shell
yum remove  mysql mysql-server mysql-libs mysql-server
```

## 删除残余安装包

```shell
rpm -ev $(rpm -qa|grep mysql)
```

## 删除残余文件夹

```shell
rm -rf $(find / -name mysql)
```

