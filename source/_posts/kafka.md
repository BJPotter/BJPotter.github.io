---
title: kafka
date: 2022-05-04
description: 学习如何使用kafka
---

# Kafka基本概念

## 什么是kafka

Kafka 是由 `Linkedin` 公司开发的，它是一个分布式的，支持多分区、多副本，基于 Zookeeper 的分布式消息流平台，它同时也是一款开源的**基于发布订阅模式的消息引擎系统**。

### 概念一:生产者（Producer）、消费者（Consumer)、消费者群组（Consumer Group）

生产者：向主题发布消息的客户端应用程序称为`生产者`（Producer），生产者用于持续不断的向某个主题发送消息。

消费者：订阅主题消息的客户端程序称为`消费者`（Consumer），消费者用于处理生产者产生的消息。

消费者群组：生产者与消费者的关系就如同餐厅中的厨师和顾客之间的关系一样，一个厨师对应多个顾客，也就是一个生产者对应多个消费者，`消费者群组`（Consumer Group）指的就是由一个或多个消费者组成的群体。

### 概念二：消息、批次、主题（Topic）、分区（Partition）

消息：Kafka 中的数据单元被称为`消息`，也被称为记录，可以把它看作数据库表中某一行的记录。

批次：为了提高效率， 消息会`分批次`写入 Kafka，批次就代指的是一组消息。

主题：消息的种类称为 `主题`（Topic）,可以说一个主题代表了一类消息。相当于是对消息进行分类。主题就像是数据库中的表。

分区：主题可以被分为若干个分区（partition），同一个主题中的分区可以不在一个机器上，有可能会部署在多个机器上，由此来实现 kafka 的`伸缩性`，单一主题中的分区有序，但是无法保证主题中所有的分区有序

### 概念三：、Broker、集群Cluster

broker: 一个独立的 Kafka 服务器就被称为 `broker`，broker 接收来自生产者的消息，为消息设置偏移量，并提交消息到磁盘保存。

broker 集群：broker 是`集群` 的组成部分，broker 集群由一个或多个 broker 组成，每个集群都有一个 broker 同时充当了`集群控制器`的角色（自动从集群的活跃成员中选举出来）。

### 概念四：副本、重平衡、偏移量

偏移量：`偏移量`（Consumer Offset）是一种元数据，它是一个不断递增的整数值，用来记录消费者发生重平衡时的位置，以便用来恢复数据。

副本：Kafka 中消息的备份又叫做 `副本`（Replica），副本的数量是可以配置的，Kafka 定义了两类副本：领导者副本（Leader Replica） 和 追随者副本（Follower Replica），前者对外提供服务，后者只是被动跟随。

重平衡：Rebalance。消费者组内某个消费者实例挂掉后，其他消费者实例自动重新分配订阅主题分区的过程。Rebalance 是 Kafka 消费者端实现高可用的重要手段。

# 安装和配置 Kafka

照官方文档提供的指引进行安装和配置

# 实践使用 Kafka

Kafka 提供的命令行工具或编程语言的客户端库来创建主题、发送消息、消费消息等。尝试使用不同的配置选项和功能，深入理解 Kafka 的各种用法。

# Kafka生态系统

Kafka 生态系统包括许多与 Kafka 相关的工具和技术，如Kafka Connect、Kafka Streams 和 Schema Registry 等。了解这些组件的作用和用法，可以帮助您更好地使用 Kafka 构建实际的数据流处理应用。

# 官方文档

# 实践项目

加入 Kafka 的社区可以与其他 Kafka 用户和开发者交流经验和知识

