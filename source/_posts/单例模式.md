---
title: 单例模式
tag: 设计模式
---

## 单例模式

>它提供了一种创建对象的最佳方式。
>
>这种模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。

>懒汉式和饿汉式区别:
>
>实例化方面:懒汉式默认不会实例化，外部什么时候调用什么时候new。饿汉式在类加载的时候就实例化，并目创建单例对象。
>线程安全方面:
>
>1.饿汉式线程安全:在线程还没出现之前就已经实例化了，因此饿汉式线程一定是安全的。
>2.懒汉式线程不安全:因为懒汉式加载是在使用时才会去new实例的，那么你去new的时候是一个动态的过程，是放到方法中实现的。

#### 懒汉式实现方式

```java
/**
 * <p>
 * 单例模式类
 * </p>
 */
public class Singleton {
    /**
     * 懒汉式
     */
    private static DBUtil instance;
    private Singleton (){}
    public static synchronized DBUtil getInstance() {
        if (instance == null) {
            instance = new DBUtil();
        }
        return instance;
    }
}
```

### 饿汉式实现方式

```java
/**
 * <p>
 * 单例模式类
 * </p>
 */
public class Singleton {
    /**
     * 饿汉式
     */
    private static DBUtil instance = new DBUtil();
    private Singleton (){}
    public static DBUtil getInstance() {
        return instance;
    }
}


```

### 使用方式

>每次使用的时候不用每次new创建一个对象，直接去单例里面拿对象

```java
public class SoftTypeService {
	//private DBUtil db = new DBUtil();
	private DBUtil db = Singleton.getInstance();
}    
```

