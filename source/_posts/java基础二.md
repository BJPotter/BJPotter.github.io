---
title: 面向对象
tag:
- java
---



# 什么是面向对象

面向对象编程，OOP（Object Oriented Programming）它是一种编程思想，把数据和行为封装成一个对象，以模拟现实世界的实体和交互。

# 如何区分面向对象和面向过程

- 面向过程：将问题看作一系列步骤，通过一个个方法执行解决问题，重点在于算法和流程控制。
- 面向对象：将问题拆分成一系列对象，这些对象有自己的属性和方法，通过对象间方法调用解决问题，重点在于封装、继承和多态，以及对象之间的关系。

# 对象实例和对象引用的区别

- 对象实例：在程序运行时new关键字创建的对象，存储在堆内存中，具有属性和方法。
- 对象引用：指向对象实例的变量，存储在栈中，它存储的是对象实例内存地址。

> 一般说的对象相等指的是对象实例相等，指的是两个对象实例在内存中的内容是一致的，引用相等指的两个或多个引用指向同一个对象实例，比较的是内存地址。
>
> - 一个对象引用可以指向0个或者1个对象实例
> - 一个对象实例可以被多个对象引用指向

# 构造方法

> 构造方法（Constructor）是一种特殊类型的方法，用于在创建对象实例时初始化对象的状态。构造方法的名称必须与类名相同，并且没有返回类型（甚至不是void），因为它们不返回任何值。
>
> 如果一个类没有明确定义构造方法，编译器会自动生成一个默认的无参构造方法，该构造方法仅仅执行了一些默认的初始化操作。但是，如果你显式地定义了构造方法，编译器就不会再生成默认构造方法，所以需要注意是否需要手动提供无参构造方法。

1. **初始化对象**：构造方法用于初始化新创建的对象实例的状态。它们通常会对对象的属性进行初始化，以确保对象在创建后处于一种合适的初始状态。
2. **与类名相同**：构造方法的名称必须与类名完全相同，包括大小写。这是为了告诉编译器这个方法是一个构造方法。
3. **没有返回类型**：构造方法没有返回类型，甚至不是void。这是因为构造方法的目的不是返回值，而是初始化对象实例。
4. **可以重载**：一个类可以有多个构造方法，它们可以根据参数列表的不同进行重载。这使得我们可以根据不同的需求来创建对象实例。

# 重写与重载

重写（Override）：子类重写父类的方法，但是方法的名称、参数列表、返回类型和父类保持一致，只改变方法体的内容，实现多态性。

重载（Overload）：同一个类中定义多个有相同名称但参数列表（参数的个数、顺序、类型）不同的方法，可以根据不同的参数列表调用不同的方法。

# 面向对象的特性

## 封装

> 封装是把对象的属性和方法封装成一个类，通过封装可以把一个对象的属性隐藏在对象内部，对外提供公共的接口（方法）来操作内部数据，以保护数据安全，防止外部直接修改。

## 继承

> 继承是在已存在的类的基础上创建子类，子类可以实现自己的属性和方法，也可以用父类的功能，但不能选择性地继承父类。通过使用继承，可以快速地创建新的类，可以提高代码的重用。

1. 子类拥有父类对象所有的属性和方法（包括私有属性和私有方法），但是父类中的私有属性和方法子类是无法访问，**只是拥有**。
2. 子类可以拥有自己属性和方法，即子类可以对父类进行扩展。
3. 子类可以用自己的方式实现父类的方法。（以后介绍）。

## 多态

> 多态是指对象在不同情况下可以以不同的形态呈现出来，体现在方法的重写上，子类重写父类的方法，父类的引用指向子类的实例并且调用子类重写的方法。

Java实现多态有三个必要条件：继承、重写、向上转型。

继承：在多态中必须存在有继承关系的子类和父类。

重写：子类对父类中某些方法进行重新定义，在调用这些方法时就会调用子类的方法。

向上转型：是指子类对象可以赋值给父类引用变量，会调用子类的重写的方法。

# 接口和抽象类的区别

> 接口：通过interface关键字来表明这是接口，定义了一组抽象方法，没有具体的实现，方法默认是public abstract修饰、变量默认为public static final修饰
>
> 抽象类：通过abstract关键字来表明这是接口，既可以包含抽象方法也可以包含非抽象方法，可以有构造函数，也可以有成员变量，作为一个基类，提供通用功能的实现，但直接不能被实例化。

相同点：

1. **抽象性**：接口和抽象类都是抽象的，不能直接实例化。
2. **模板性**：接口和抽象类都可以作为其他类的模板或基类，提供通用的行为规范或实现。
3. **多态性**：接口和抽象类都支持多态性，即同一方法调用可能会有不同的实现，具体取决于对象的类型。
4. **扩展性**：接口和抽象类都可以被子类实现或继承，并且可以通过添加新的方法或修改现有的方法来扩展功能。

区别：

1. 方法：
   - **接口**：只有抽象方法，但不包含方法的具体实现。
   - **抽象类**：可以有抽象方法，也可以有非抽象方法
2. 构造函数：
   - 抽象类可以有构造函数，而接口不能有构造函数。
3. 继承：
   - **接口**：多实现
   - **抽象类**：单继承，继承具有传递性。
4. 变量：
   - **接口**：变量默认是public static final的
   - **抽象类**：可以定义实例变量，可以是各种访问修饰符。
5. 使用场景：
   - **接口**：如果不同的类需要具有相似但不同的行为，可以考虑使用接口来实现。
   - **抽象类**：如果多个类有相似的行为，可以将这些行为提取到一个抽象类中，并让这些类继承该抽象类来实现代码复用。

# 深拷贝、浅拷贝、引用拷贝

深拷贝和浅拷贝都是指对对象的拷贝，例如一个对象如果有两种类型的属性，基本数据类型和引用数据类型

浅拷贝（**Shallow Copy**）就是指会拷贝基本数据类型的值，以及引用数据类型的引用，不会拷贝引用数据类型指向的对象，浅拷贝出来的对象内部的引用数据类型指向原来对象，通过clone()方法可以实现

深拷贝（**Deep Copy**）即会拷贝基本数据类型的值，也会拷贝引用数据类型指向的对象，是完全都复制了一份，通过递归复制或者序列化和反序列化实现。

引用拷贝（**Reference Copy**）就是两个不同的引用指向同一个对象。
