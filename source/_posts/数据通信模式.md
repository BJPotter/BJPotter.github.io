---
title: 9中数据通信/流动模式
description: 该篇博客描述点对点、API 网关、发布-订阅、请求-响应、事件溯源、ETL、批处理、流处理、编排的工作原理
tag:
- 系统设计
---

# 点对点（P2P）

建立在网络中的每个节点（也称为"对等体"或"peer"）既是客户端也是服务器的概念。简而言之，这种架构模式允许节点直接相互通信和交换数据，而不需要通过一个中央服务器。

# API网关

API网关是一种服务器，所有的客户端API调用都流经此网关。它则作为系统的前端，将入站请求路由到适当的服务，并可能对数据进行聚合或变换，以便向客户端提供一个统一的接口。

# 发布-订阅（Pub/Sub）

在此模式中，发布者（发布消息者）不会直接向订阅者（消息接收者）发送消息。相反，发布的消息会发送给一个消息系统或“主题”，然后由订阅该主题的订阅者接收。订阅者和发布者彼此独立，通常由中间服务来异步处理消息分发。

# 请求-响应

这是最常见的通信模型，在这种模式下，客户端发送一个请求到服务器，然后等待响应。服务器处理请求并发送回一个响应消息，这个模式是同步的，通常用于客户端与服务器的直接通信。

# 事件溯源（Event Sourcing）

事件溯源模式涉及存储所有状态变化为一个序列不可变的事件。当需要恢复或查询系统状态时，这些事件会被重新播放。该模式提供了系统状态改变历史的完整记录，并支持高级查询和回退操作。

# ETL（提取、转换、加载）

ETL是数据仓库的常见过程，涉及从多个源提取数据，将数据转换为适合分析的格式，然后加载到目标数据库或数据仓库中。这个过程可以是定时执行的批处理任务，也可以即时处理数据流。

# 批处理

批处理是一种处理大量数据的技术，其中数据集会被分割成多个“批”进行处理。每个批次的数据处理完成后才开始下一个，这是一种顺序处理，不依赖实时数据流。

# 流处理

与批处理不同，流处理是一种处理数据的技术，数据以连续的流动态地进入系统并即时处理。流处理适合对实时数据进行分析和处理，支持快速决策和即时反馈。

# 编排

编排通常指在一个集中的系统中安排和管理微服务或者服务组件之间的交互。编排器会对整个流程有全局视图，负责确定哪个服务何时执行，以及如何处理不同服务之间的依赖和数据交换。